<!DOCTYPE html>
<html>
<head>
    <title>Pittsburgh Event Finder</title>
    <style>
      table { border-collapse: collapse; width: 100%; margin-top: 16px; }
      th, td { border-bottom: 1px solid #ddd; padding: 10px; text-align: left; }
      th { background: #C7B67E; }
      form { display: flex; gap: 12px; flex-wrap: wrap; align-items: end; }
      label { display: block; font-size: 0.9rem; }
      input { padding: 6px; }
      button { padding: 6px 14px; cursor: pointer; background: #000; color: #C7B67E; font-weight: bold; }
      .main {width: 90%; margin: 10px auto;}
      a {color: #333;}
      .footer-img {width: 100% !important; margin: 0 auto 0;}
    </style>
</head>

<body>
  <div class="main">

    <h1>Find Events in Pittsburgh</h1>
    <p>Filter by date and price.</p>

<!--<form action="/refresh" method="POST">
  <button type="submit">Refresh live data</button>
</form>-->

    <form method="GET">
        <div>
            <label>Start Date:</label>
            <input type="date" name="start_date" value="{{ start_date }}">
        </div>

        <div>
            <label>End Date:</label>
            <input type="date" name="end_date" value="{{ end_date }}">
        </div>

        <div>
            <label>Max Price:</label>
            <input type="number" name="max_price" step="0.01" value="{{ max_price }}">
        </div>

        <button type="submit">Filter</button>
    </form>


    {% if events %}
      <table>
          <thead>
              <tr>
                  <th width="35%">Event</th>
                  <th width="10%">Date</th>
                  <th width="10%">Time</th>
                  <th width="35%">Location</th>
                  <th width="10%">Price</th>
              </tr>
          </thead>
          <tbody>
              {% for e in events %}
              <tr>
                  <td>{{ e.event_name }}</td>
                  <td>{{ e.date }}</td>
                  <td>{{ e.time }}</td>
                  <td>{{ e.location }}</td>
                  <td>${{ e.price }}</td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
    {% else %}
      <p style="margin-top:16px;">No events match your filters.</p>
    {% endif %}
</div>
<img class="footer-img" src="static/images/skyline.png" alt="Pittsburgh skyline line art" width="100%">
<p><a href="https://www.freepik.com/free-vector/flat-pittsburgh-skyline-silhouette_48041426.htm">Skyline image by freepik</a></p>
</body>
</html>